<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paymob Account Creation - Interactive Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; overflow: hidden; background: #f3f4f6; font-family: sans-serif; }
    .cursor { pointer-events: none; position: absolute; z-index: 50; transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1); }
    .popup { position: absolute; z-index: 40; max-width: 28rem; padding: 1.5rem; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); border-radius: 1rem; transition: opacity 0.5s ease, transform 0.5s ease; opacity: 0; transform: translateY(20px); }
    .popup.visible { opacity: 1; transform: translateY(0); }
    .slide { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.5s ease; }
    .slide.active { opacity: 1; }
    .slide img { width: 100%; height: 100%; object-fit: contain; }
    
    /* Cursor Styles */
    .cursor-default svg { width: 24px; height: 24px; fill: black; stroke: white; stroke-width: 1px; }
    .cursor-hand svg { width: 24px; height: 24px; fill: black; stroke: white; stroke-width: 1px; }
    .cursor-dot { width: 16px; height: 16px; background: red; border-radius: 50%; box-shadow: 0 0 10px red; }
    .cursor-custom svg { width: 32px; height: 32px; fill: #3b82f6; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3)); }
  </style>
</head>
<body>

  <div id="app" class="relative w-full h-screen">
    <!-- Slides Container -->
    <div id="slides"></div>

    <!-- Cursor -->
    <div id="cursor" class="cursor cursor-default">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="M13 13l6 6"/></svg>
    </div>

    <!-- Popup -->
    <div id="popup" class="popup">
      <h3 id="popup-title" class="text-lg font-bold text-blue-900 mb-2"></h3>
      <p id="popup-desc" class="text-gray-700 leading-relaxed"></p>
    </div>

    <!-- Controls -->
    <div class="absolute bottom-6 left-6 z-50 flex gap-3">
      <button onclick="restart()" class="px-5 py-2.5 bg-white shadow-lg hover:shadow-xl text-sm font-semibold text-gray-800 rounded-full transition-all active:scale-95">Restart</button>
      <div id="step-indicator" class="px-5 py-2.5 bg-gray-900/80 backdrop-blur text-white text-sm font-medium rounded-full shadow-lg border border-white/10">
        1 / 7
      </div>
    </div>
  </div>

  <script>
    const project = {"id":"paymob-demo","name":"Paymob Account Creation","createdAt":1767984484323,"cursorStyle":"default","steps":[{"id":"login","image":"/images/3.png","target":{"x":68,"y":78},"description":"The user starts at the login screen. Since they are new, they navigate to 'Sign Up' to create an account.","position":"right"},{"id":"phone","image":"/images/1.png","target":{"x":66,"y":45},"description":"Enter a mobile number to register. This is the first step for verification.","position":"left"},{"id":"details","image":"/images/2.png","target":{"x":70,"y":80},"description":"Fill in personal details like Name, Email, and Password to set up the user profile.","position":"left"},{"id":"service_use","image":"/images/5.png","target":{"x":82,"y":82},"description":"Select how you wish to use the service (e.g., Retail, Website, or Social Media).","position":"top-left"},{"id":"biz_type","image":"/images/4.png","target":{"x":75,"y":80},"description":"Choose the business type. 'Starter Business' allows for quick onboarding without immediate registration documents.","position":"top-left"},{"id":"biz_info","image":"/images/6.png","target":{"x":82,"y":86},"description":"Provide business details such as Brand Name, Sector, and Address to finalize the profile.","position":"top-left"},{"id":"dashboard","image":"/images/7.png","target":{"x":50,"y":50},"description":"Account creation is complete! Welcome to the Paymob dashboard.","position":"center"}]};
    let currentStepIndex = 0;
    let isPlaying = true;
    
    const slidesContainer = document.getElementById('slides');
    const cursor = document.getElementById('cursor');
    const popup = document.getElementById('popup');
    const popupTitle = document.getElementById('popup-title');
    const popupDesc = document.getElementById('popup-desc');
    const stepIndicator = document.getElementById('step-indicator');

    // Initialize Slides
    project.steps.forEach((step, index) => {
      const div = document.createElement('div');
      div.className = 'slide' + (index === 0 ? ' active' : '');
      div.id = 'slide-' + index;
      div.innerHTML = `<img src="${step.image}" />`;
      slidesContainer.appendChild(div);
    });

    function updatePopupPosition(step) {
      popup.className = 'popup visible';
      popup.style.top = 'auto';
      popup.style.left = 'auto';
      popup.style.right = 'auto';
      popup.style.bottom = 'auto';
      popup.style.transform = 'none';

      if (step.popupCoordinates) {
        popup.style.left = step.popupCoordinates.x + '%';
        popup.style.top = step.popupCoordinates.y + '%';
      } else {
        // Default positions
        switch(step.position) {
          case 'left': popup.style.top = '50%'; popup.style.left = '2.5rem'; popup.style.transform = 'translateY(-50%)'; break;
          case 'right': popup.style.top = '50%'; popup.style.right = '2.5rem'; popup.style.transform = 'translateY(-50%)'; break;
          case 'top-left': popup.style.top = '5rem'; popup.style.left = '5rem'; break;
          case 'center': popup.style.top = '50%'; popup.style.left = '50%'; popup.style.transform = 'translate(-50%, -50%)'; break;
          default: popup.style.bottom = '5rem'; popup.style.left = '50%'; popup.style.transform = 'translateX(-50%)'; break;
        }
      }
    }

    async function playStep(index) {
      if (index >= project.steps.length) return;
      
      const step = project.steps[index];
      
      // Update Slide
      document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));
      document.getElementById('slide-' + index).classList.add('active');
      
      // Update Indicator
      stepIndicator.innerText = (index + 1) + ' / ' + project.steps.length;

      // Show Popup
      popupTitle.innerText = 'Step ' + (index + 1);
      popupDesc.innerText = step.description;
      updatePopupPosition(step);
      
      // Wait
      await new Promise(r => setTimeout(r, 1000));

      // Move Cursor
      if (step.target) {
        cursor.style.left = step.target.x + '%';
        cursor.style.top = step.target.y + '%';
      }

      // Wait
      await new Promise(r => setTimeout(r, 2000));

      // Click Effect (if not last)
      if (index < project.steps.length - 1) {
        cursor.style.transform = 'scale(0.8)';
        await new Promise(r => setTimeout(r, 150));
        cursor.style.transform = 'scale(1)';
        
        // Hide Popup
        popup.classList.remove('visible');
        await new Promise(r => setTimeout(r, 300));
        
        // Next Step
        playStep(index + 1);
      }
    }

    function restart() {
      currentStepIndex = 0;
      cursor.style.left = '50%';
      cursor.style.top = '50%';
      playStep(0);
    }

    // Start
    setTimeout(() => playStep(0), 500);

  </script>
</body>
</html>